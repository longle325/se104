# UIT-W2F: Há»‡ Thá»‘ng TÃ¬m Kiáº¿m Äá»“ Tháº¥t Láº¡c táº¡i UIT

## Giá»›i thiá»‡u

**UIT-W2F** lÃ  há»‡ thá»‘ng quáº£n lÃ½ vÃ  tÃ¬m kiáº¿m Ä‘á»“ tháº¥t láº¡c dÃ nh cho sinh viÃªn táº¡i TrÆ°á»ng Äáº¡i há»c CÃ´ng nghá»‡ ThÃ´ng tin (ÄHQG-HCM). Há»‡ thá»‘ng giáº£i quyáº¿t cÃ¡c háº¡n cháº¿ cá»§a phÆ°Æ¡ng phÃ¡p quáº£n lÃ½ truyá»n thá»‘ng (qua phÃ²ng CTSV, Lost & Found, máº¡ng xÃ£ há»™i rá»i ráº¡c) báº±ng cÃ¡ch cung cáº¥p ná»n táº£ng táº­p trung, hiá»‡n Ä‘áº¡i, há»— trá»£ tÃ¬m kiáº¿m, trao Ä‘á»•i vÃ  xÃ¡c thá»±c thÃ´ng tin Ä‘á»“ tháº¥t láº¡c má»™t cÃ¡ch nhanh chÃ³ng, minh báº¡ch vÃ  báº£o máº­t.

---

## ThÃ nh viÃªn thá»±c hiá»‡n

- **LÃª Báº£o Long** - 23520877
- **Nguyá»…n Thuáº­n PhÃ¡t** - 23521146
- **Phan XuÃ¢n ThÃ nh** - 23521461

Giáº£ng viÃªn hÆ°á»›ng dáº«n: Th.S Äá»— VÄƒn Tiáº¿n

---

## TÃ­nh nÄƒng chÃ­nh

- **ÄÄƒng kÃ½/ÄÄƒng nháº­p** báº±ng email, sá»‘ Ä‘iá»‡n thoáº¡i, mÃ£ sinh viÃªn; xÃ¡c thá»±c email.
- **Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n**: cáº­p nháº­t, Ä‘á»•i máº­t kháº©u, xem lá»‹ch sá»­ hoáº¡t Ä‘á»™ng.
- **ÄÄƒng tin máº¥t Ä‘á»“/nháº·t Ä‘Æ°á»£c Ä‘á»“**: nháº­p thÃ´ng tin, hÃ¬nh áº£nh, phÃ¢n loáº¡i theo tráº¡ng thÃ¡i.
- **TÃ¬m kiáº¿m & lá»c thÃ´ng tin**: theo tá»« khÃ³a, loáº¡i Ä‘á»“, vá»‹ trÃ­, thá»i gian, tráº¡ng thÃ¡i.
- **Nháº¯n tin trá»±c tiáº¿p** giá»¯a ngÆ°á»i máº¥t vÃ  ngÆ°á»i nháº·t (chat realtime).
- **Quáº£n trá»‹ & kiá»ƒm duyá»‡t**: duyá»‡t bÃ i, xá»­ lÃ½ bÃ¡o cÃ¡o, quáº£n lÃ½ ngÆ°á»i dÃ¹ng.
- **ThÃ´ng bÃ¡o tá»± Ä‘á»™ng**: khi cÃ³ bÃ i Ä‘Äƒng trÃ¹ng khá»›p, tin nháº¯n má»›i, thay Ä‘á»•i tráº¡ng thÃ¡i.
- **Cáº­p nháº­t tráº¡ng thÃ¡i bÃ i Ä‘Äƒng** (Ä‘Ã£ tÃ¬m tháº¥y, Ä‘Ã£ tráº£ láº¡i, v.v.).
- **BÃ¡o cÃ¡o vi pháº¡m**: gá»­i, xá»­ lÃ½, thá»‘ng kÃª bÃ¡o cÃ¡o ná»™i dung khÃ´ng phÃ¹ há»£p.

---

## Kiáº¿n trÃºc há»‡ thá»‘ng

| ThÃ nh pháº§n             | CÃ´ng nghá»‡ chÃ­nh   | Vai trÃ² chÃ­nh                                                                                 |
|------------------------|-------------------|----------------------------------------------------------------------------------------------|
| Presentation Layer     | React, Chakra UI  | Giao diá»‡n ngÆ°á»i dÃ¹ng, Ä‘á»‹nh tuyáº¿n, xÃ¡c thá»±c, realtime chat, thÃ´ng bÃ¡o, upload áº£nh             |
| Application Layer      | FastAPI (Python)  | API server, xá»­ lÃ½ nghiá»‡p vá»¥, xÃ¡c thá»±c, phÃ¢n quyá»n, WebSocket, gá»­i mail, background tasks     |
| Data Layer             | MongoDB, PyMongo  | LÆ°u trá»¯ ngÆ°á»i dÃ¹ng, bÃ i Ä‘Äƒng, tin nháº¯n, thÃ´ng bÃ¡o, file upload                              |

- **Frontend** giao tiáº¿p vá»›i backend qua REST API vÃ  WebSocket.
- **Backend** xÃ¡c thá»±c, xá»­ lÃ½ logic, gá»­i/nháº­n dá»¯ liá»‡u tá»« database.
- **Database** lÆ°u trá»¯ toÃ n bá»™ thÃ´ng tin, há»— trá»£ truy váº¥n vÃ  má»Ÿ rá»™ng.

---

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

```
ğŸ“ Project Structure
â”œâ”€â”€ ğŸ“ backend/               # FastAPI Backend
â”‚   â”œâ”€â”€ ğŸ“ services/         # Business logic layer
â”‚   â”œâ”€â”€ ğŸ“ uploads/          # File storage
â”‚   â”œâ”€â”€ main.py              # API endpoints
â”‚   â”œâ”€â”€ models.py            # Pydantic models
â”‚   â”œâ”€â”€ db.py                # Database connection
â”‚   â”œâ”€â”€ config.py            # Configuration
â”‚   â””â”€â”€ requirements.txt     # Python dependencies
â”œâ”€â”€ ğŸ“ frontend/             # ReactJS Frontend  
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/   # Reusable components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pages/        # Route pages
â”‚   â”‚   â”œâ”€â”€ ğŸ“ hooks/        # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ ğŸ“ utils/        # Utility functions
â”‚   â”‚   â””â”€â”€ ğŸ“ assets/       # Static resources
â”‚   â””â”€â”€ package.json         # NPM dependencies
â””â”€â”€ ğŸ“ use_case_diagrams/    # System documentation
```

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y

### YÃªu cáº§u há»‡ thá»‘ng
- Python 3.10+
- Node.js 18+
- MongoDB 5.0+
- npm/yarn

### 1. Setup Backend

```bash
cd backend/

# Táº¡o virtual environment
python -m venv venv
source venv/bin/activate  # Linux/Mac
# hoáº·c venv\Scripts\activate  # Windows

# CÃ i Ä‘áº·t dependencies
pip install -r requirements.txt

# Táº¡o file .env
cp .env.example .env  # Cáº¥u hÃ¬nh theo mÃ´i trÆ°á»ng

# Cháº¡y server
python main.py
```

### 2. Setup Frontend

```bash
cd frontend/

# CÃ i Ä‘áº·t dependencies
npm install

# Cháº¡y development server
npm run dev
```

### 3. Setup Database

```bash
# Khá»Ÿi Ä‘á»™ng MongoDB
mongod

# Import sample data (optional)
mongoimport --db uit_lost_found --collection posts --file sample_data.json
```

### 4. Truy cáº­p á»©ng dá»¥ng

- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:8000
- **API Docs**: http://localhost:8000/docs

## ğŸ“ Cáº¥u trÃºc file chi tiáº¿t

### Backend Structure

```
backend/
â”œâ”€â”€ config.py              # Cáº¥u hÃ¬nh táº­p trung
â”œâ”€â”€ main.py                 # FastAPI app vÃ  routes
â”œâ”€â”€ models.py               # Pydantic models
â”œâ”€â”€ db.py                   # MongoDB connection
â”œâ”€â”€ hashing.py              # Password hashing
â”œâ”€â”€ oauth.py                # JWT authentication
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ post_service.py     # Business logic cho posts
â”‚   â””â”€â”€ message_service.py  # Business logic cho messages
â”œâ”€â”€ uploads/                # File storage directory
```

### Frontend Structure

```
frontend/src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ AuthContext.jsx        # Authentication provider
â”‚   â”œâ”€â”€ SocketContext.jsx      # WebSocket provider
â”‚   â”œâ”€â”€ Navigation.jsx         # Main navigation
â”‚   â”œâ”€â”€ ProtectedRoute.jsx     # Route protection
â”‚   â”œâ”€â”€ NotificationCenter.jsx # Notification system
â”‚   â””â”€â”€ ui/                    # UI components
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ LoginPage.jsx          # User login
â”‚   â”œâ”€â”€ RegisterPage.jsx       # User registration
â”‚   â”œâ”€â”€ Homepage.jsx           # Main dashboard
â”‚   â”œâ”€â”€ ChatPage.jsx           # Messaging interface
â”‚   â”œâ”€â”€ Dangtin.jsx            # Post creation
â”‚   â”œâ”€â”€ PostDetailPage.jsx     # Post details
â”‚   â”œâ”€â”€ ProfilePage.jsx        # User profile
â”‚   â””â”€â”€ Admin*.jsx             # Admin pages
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useChat.js             # Chat functionality hook
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ constants.js           # App constants
â””â”€â”€ assets/                    # Static resources
```

## ğŸ”‘ TÃ­nh nÄƒng chi tiáº¿t

### 1. Há»‡ thá»‘ng xÃ¡c thá»±c
- ÄÄƒng kÃ½ vá»›i email UIT (@gm.uit.edu.vn)
- XÃ¡c thá»±c email tá»± Ä‘á»™ng
- JWT token vá»›i refresh mechanism
- Báº£o máº­t session vÃ  CORS

### 2. Quáº£n lÃ½ bÃ i Ä‘Äƒng
- **Táº¡o bÃ i Ä‘Äƒng**: Upload áº£nh, mÃ´ táº£ chi tiáº¿t
- **PhÃ¢n loáº¡i**: "TÃ¬m Ä‘á»“" / "Nháº·t Ä‘Æ°á»£c"
- **Tráº¡ng thÃ¡i**: Tá»± Ä‘á»™ng set "ChÆ°a tÃ¬m Ä‘Æ°á»£c"/"ChÆ°a hoÃ n tráº£"
- **TÃ¬m kiáº¿m**: Filter theo category, location, keywords
- **View tracking**: Äáº¿m lÆ°á»£t xem bÃ i Ä‘Äƒng

### 3. Chat realtime
- **1-1 messaging**: Chat trá»±c tiáº¿p giá»¯a users
- **Typing indicators**: Hiá»ƒn thá»‹ Ä‘ang nháº­p
- **Message status**: ÄÃ£ gá»­i/Ä‘Ã£ Ä‘á»c indicators
- **Message actions**: Thu há»“i, chá»‰nh sá»­a (15 phÃºt)
- **Auto-draft**: Tin nháº¯n soáº¡n sáºµn tá»« "LiÃªn há»‡ ngay"

### 4. ThÃ´ng bÃ¡o
- **Realtime notifications**: WebSocket push
- **Email notifications**: Background task processing
- **Badge counts**: Unread message/notification counts
- **Action notifications**: Comment, message, status updates

### 5. Admin panel
- **User management**: Ban/mute users
- **Content moderation**: Review posts/comments
- **Analytics dashboard**: System statistics
- **Report handling**: Process user reports

## ğŸ”§ Configuration

### Environment Variables

```bash
# Backend (.env)
SECRET_KEY=your_secret_key_here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=525600
MONGODB_URL=mongodb://localhost:27017
DATABASE_NAME=uit_lost_found
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USERNAME=your_email@gmail.com
EMAIL_PASSWORD=your_app_password

# Frontend (.env.local)
VITE_API_BASE_URL=http://localhost:8000
VITE_SOCKET_URL=http://localhost:8000
```

### Database Collections

```javascript
// MongoDB Collections
users: {
  username, email, password_hash, full_name, 
  student_id, avatar_url, is_active, created_at
}

posts: {
  title, content, category, item_type, tags,
  location, image_urls, status, author,
  view_count, created_at, updated_at
}

direct_messages: {
  from_user, to_user, content, timestamp,
  is_read, is_delivered, post_id, reply_to
}

conversations: {
  participants[], last_message_id,
  created_at, updated_at
}

notifications: {
  user_id, type, title, message, is_read,
  related_post_id, created_at
}
```


## ğŸ“Š API Documentation


| Endpoint | Method | Description |
|----------|--------|-------------|
| `/posts` | GET, POST | Quáº£n lÃ½ bÃ i Ä‘Äƒng |
| `/posts/{id}` | GET, PUT, DELETE | Chi tiáº¿t bÃ i Ä‘Äƒng |
| `/conversations` | GET | Danh sÃ¡ch cuá»™c trÃ² chuyá»‡n |
| `/conversations/{user}/messages` | GET, POST | Tin nháº¯n |
| `/auth/login` | POST | ÄÄƒng nháº­p |
| `/auth/register` | POST | ÄÄƒng kÃ½ |
| `/notifications` | GET | ThÃ´ng bÃ¡o |
| `/admin/*` | * | Admin endpoints |

## ğŸ“„ License

MIT License - Xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.
